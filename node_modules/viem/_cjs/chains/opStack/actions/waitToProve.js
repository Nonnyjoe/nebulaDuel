"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.waitToProve = void 0;
const withdrawal_js_1 = require("../errors/withdrawal.js");
const getWithdrawals_js_1 = require("../utils/getWithdrawals.js");
const waitForNextL2Output_js_1 = require("./waitForNextL2Output.js");
async function waitToProve(client, parameters) {
    const { receipt } = parameters;
    const [withdrawal] = (0, getWithdrawals_js_1.getWithdrawals)(receipt);
    if (!withdrawal)
        throw new withdrawal_js_1.ReceiptContainsNoWithdrawalsError({
            hash: receipt.transactionHash,
        });
    const output = await (0, waitForNextL2Output_js_1.waitForNextL2Output)(client, {
        ...parameters,
        l2BlockNumber: receipt.blockNumber,
    });
    return { output, withdrawal };
}
exports.waitToProve = waitToProve;
//# sourceMappingURL=waitToProve.js.map